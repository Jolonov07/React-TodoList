{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React from 'react'; // import { Main } from '../api'\n\nconst useMain = () => {\n  _s();\n\n  const [todos, setTodos] = React.useState();\n  const get = React.useCallback(() => {\n    const request = Main.API.get();\n    request.then(res => {\n      const data = Object.entries(res.data).map(_ref => {\n        let [id, item] = _ref;\n        return {\n          id,\n          ...item\n        };\n      });\n      setTodos(data.reverse());\n    });\n  }, []);\n  const postNewTodo = React.useCallback(data => {\n    const request = Main.API.post(data);\n    request.then(get);\n  }, [get]);\n  const deleteTodo = React.useCallback(id => {\n    const request = Main.API.remove(id);\n    request.then(get);\n  }, []);\n  const completedItemTodo = React.useCallback(id => {\n    const request = Main.API.post(id);\n    request.then(get);\n  }, []);\n  React.useEffect(get, [get]);\n  return {\n    todos,\n    actions: {\n      postNewTodo,\n      deleteTodo,\n      completedItemTodo\n    }\n  };\n};\n\n_s(useMain, \"wUSpsOgwRY0e6pYRx8hllYjTecs=\");\n\nexport const use = useMain;","map":{"version":3,"names":["React","useMain","todos","setTodos","useState","get","useCallback","request","Main","API","then","res","data","Object","entries","map","id","item","reverse","postNewTodo","post","deleteTodo","remove","completedItemTodo","useEffect","actions","use"],"sources":["D:/My React Projects/React lesson/todo_app/src/pages/Main/hooks/index.js"],"sourcesContent":["import React from 'react'\r\n// import { Main } from '../api'\r\n\r\nconst useMain = ( ) => {\r\n  const [todos, setTodos] = React.useState()\r\n\r\n\r\n  const get = React.useCallback(() => {\r\n    const request = Main.API.get()\r\n\r\n    request\r\n      .then(res => {\r\n        const data = Object.entries(res.data).map(([id, item]) => {\r\n          return {\r\n            id,\r\n            ...item\r\n          }\r\n        })\r\n\r\n        setTodos(data.reverse())\r\n      })\r\n  }, [])\r\n\r\n  const postNewTodo = React.useCallback((data) => {\r\n    const request = Main.API.post(data)\r\n\r\n    request\r\n      .then(get)\r\n  }, [get])\r\n\r\n  const deleteTodo = React.useCallback((id) => {\r\n    const request = Main.API.remove(id)\r\n\r\n    request\r\n      .then(get)\r\n  }, [])\r\n\r\n  const completedItemTodo = React.useCallback((id) => {\r\n    const request = Main.API.post(id)\r\n\r\n    request\r\n      .then(get)\r\n  }, [])\r\n\r\n  React.useEffect(get, [get])\r\n\r\n  return {\r\n    todos,\r\n    actions: {\r\n      postNewTodo,\r\n      deleteTodo,\r\n      completedItemTodo,\r\n    },\r\n  }\r\n\r\n}\r\n\r\nexport const use = useMain"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;AAEA,MAAMC,OAAO,GAAG,MAAO;EAAA;;EACrB,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBH,KAAK,CAACI,QAAN,EAA1B;EAGA,MAAMC,GAAG,GAAGL,KAAK,CAACM,WAAN,CAAkB,MAAM;IAClC,MAAMC,OAAO,GAAGC,IAAI,CAACC,GAAL,CAASJ,GAAT,EAAhB;IAEAE,OAAO,CACJG,IADH,CACQC,GAAG,IAAI;MACX,MAAMC,IAAI,GAAGC,MAAM,CAACC,OAAP,CAAeH,GAAG,CAACC,IAAnB,EAAyBG,GAAzB,CAA6B,QAAgB;QAAA,IAAf,CAACC,EAAD,EAAKC,IAAL,CAAe;QACxD,OAAO;UACLD,EADK;UAEL,GAAGC;QAFE,CAAP;MAID,CALY,CAAb;MAOAd,QAAQ,CAACS,IAAI,CAACM,OAAL,EAAD,CAAR;IACD,CAVH;EAWD,CAdW,EAcT,EAdS,CAAZ;EAgBA,MAAMC,WAAW,GAAGnB,KAAK,CAACM,WAAN,CAAmBM,IAAD,IAAU;IAC9C,MAAML,OAAO,GAAGC,IAAI,CAACC,GAAL,CAASW,IAAT,CAAcR,IAAd,CAAhB;IAEAL,OAAO,CACJG,IADH,CACQL,GADR;EAED,CALmB,EAKjB,CAACA,GAAD,CALiB,CAApB;EAOA,MAAMgB,UAAU,GAAGrB,KAAK,CAACM,WAAN,CAAmBU,EAAD,IAAQ;IAC3C,MAAMT,OAAO,GAAGC,IAAI,CAACC,GAAL,CAASa,MAAT,CAAgBN,EAAhB,CAAhB;IAEAT,OAAO,CACJG,IADH,CACQL,GADR;EAED,CALkB,EAKhB,EALgB,CAAnB;EAOA,MAAMkB,iBAAiB,GAAGvB,KAAK,CAACM,WAAN,CAAmBU,EAAD,IAAQ;IAClD,MAAMT,OAAO,GAAGC,IAAI,CAACC,GAAL,CAASW,IAAT,CAAcJ,EAAd,CAAhB;IAEAT,OAAO,CACJG,IADH,CACQL,GADR;EAED,CALyB,EAKvB,EALuB,CAA1B;EAOAL,KAAK,CAACwB,SAAN,CAAgBnB,GAAhB,EAAqB,CAACA,GAAD,CAArB;EAEA,OAAO;IACLH,KADK;IAELuB,OAAO,EAAE;MACPN,WADO;MAEPE,UAFO;MAGPE;IAHO;EAFJ,CAAP;AASD,CApDD;;GAAMtB,O;;AAsDN,OAAO,MAAMyB,GAAG,GAAGzB,OAAZ"},"metadata":{},"sourceType":"module"}