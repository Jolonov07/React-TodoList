{"ast":null,"code":"var _jsxFileName = \"D:\\\\MyReactProjects\\\\React lesson\\\\todo_app\\\\src\\\\pages\\\\Auth\\\\SignIn\\\\index.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React from 'react';\nimport { useForm } from 'react-hook-form';\nimport { NavLink, useNavigate } from 'react-router-dom';\nimport Button from '../../../components/Button';\nimport Header from '../../../components/Header';\nimport TextArea from '../../../components/TextArea';\nimport { signInUrl } from '../../../configs';\nimport { Form } from '../../../helpers/Form';\nimport cls from './SignIn.module.scss';\nimport NoAuth from '../../../components/NoAuth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Signin = () => {\n  _s();\n\n  const {\n    formState,\n    register,\n    reset,\n    handleSubmit\n  } = useForm();\n  const [isSuccessAuth, setIsSuccesAuth] = React.useState(false);\n  const navigate = useNavigate();\n\n  const onSubmit = data => {\n    const body = {\n      email: data.email,\n      password: data.password,\n      returnSecureToken: true\n    };\n    axios.post(signInUrl, body).then(res => {\n      const data = res.data;\n      reset();\n      localStorage.setItem('localId', data.localId);\n      reset();\n    }).then(() => {\n      navigate('/');\n    }).catch(err => {\n      if (err.responce.data.error.code === 400) {\n        setIsSuccesAuth(true);\n      }\n    });\n  };\n\n  if (localStorage.getItem('localId')) return /*#__PURE__*/_jsxDEV(NoAuth, {\n    link: '/',\n    textContent: 'Вы не авторизовались!',\n    textLink: 'Войти!'\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 7\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: cls.container,\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: cls.formBox,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: cls.box,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: cls.title,\n          children: \"\\u0410\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: cls.root,\n          onSubmit: handleSubmit(onSubmit),\n          children: [/*#__PURE__*/_jsxDEV(TextArea, {\n            className: cls.input,\n            label: \"email\",\n            placeholder: \"email\",\n            type: \"email\",\n            error: formState.errors.email,\n            ...register('email', Form.Options.email)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TextArea, {\n            className: cls.input,\n            label: \"password\",\n            placeholder: \"password\",\n            type: 'password',\n            error: formState.errors.password,\n            ...register('password', Form.Options.password)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: 'submit',\n            text: 'Войти'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 25\n          }, this), isSuccessAuth && /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: cls.noAuth,\n            children: \"\\u0412\\u044B \\u0432\\u0432\\u0435\\u043B\\u0438 \\u043D\\u0435\\u0432\\u0435\\u0440\\u043D\\u044B\\u0439 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C \\u0438\\u043B\\u0438 \\u043F\\u043E\\u0447\\u0442\\u0443\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 34\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u041D\\u0435\\u0442 \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\\u0430? \", /*#__PURE__*/_jsxDEV(NavLink, {\n            to: '/signup',\n            children: \"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 36\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 16\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 7\n  }, this);\n};\n\n_s(Signin, \"gVWsvv6mfvqms9MqG6uaGr9tJak=\", false, function () {\n  return [useForm, useNavigate];\n});\n\n_c = Signin;\nexport default Signin;\n\nvar _c;\n\n$RefreshReg$(_c, \"Signin\");","map":{"version":3,"names":["axios","React","useForm","NavLink","useNavigate","Button","Header","TextArea","signInUrl","Form","cls","NoAuth","Signin","formState","register","reset","handleSubmit","isSuccessAuth","setIsSuccesAuth","useState","navigate","onSubmit","data","body","email","password","returnSecureToken","post","then","res","localStorage","setItem","localId","catch","err","responce","error","code","getItem","container","formBox","box","title","root","input","errors","Options","noAuth"],"sources":["D:/MyReactProjects/React lesson/todo_app/src/pages/Auth/SignIn/index.jsx"],"sourcesContent":["import axios from 'axios'\r\nimport React from 'react'\r\nimport { useForm } from 'react-hook-form'\r\nimport { NavLink, useNavigate } from 'react-router-dom'\r\nimport Button from '../../../components/Button'\r\nimport Header from '../../../components/Header'\r\nimport TextArea from '../../../components/TextArea'\r\nimport { signInUrl } from '../../../configs'\r\nimport { Form } from '../../../helpers/Form'\r\nimport cls from './SignIn.module.scss'\r\nimport NoAuth from '../../../components/NoAuth'\r\n\r\nconst Signin = () => {\r\n   const {\r\n      formState,\r\n      register,\r\n      reset,\r\n      handleSubmit,\r\n   } = useForm()\r\n\r\n   const [isSuccessAuth, setIsSuccesAuth] = React.useState(false)\r\n\r\n   const navigate = useNavigate()\r\n\r\n   const onSubmit = (data) => {\r\n      const body = {\r\n         email: data.email,\r\n         password: data.password,\r\n         returnSecureToken: true,\r\n      }\r\n\r\n      axios.post(signInUrl, body)\r\n      .then(res => {\r\n         const data = res.data\r\n         reset()\r\n         localStorage.setItem('localId', data.localId)\r\n         reset()\r\n      })\r\n      .then(() => {\r\n         navigate('/')\r\n      })\r\n      .catch(err => {\r\n         if(err.responce.data.error.code === 400) {\r\n            setIsSuccesAuth(true)\r\n         }\r\n      })\r\n      \r\n   }\r\n\r\n   if (localStorage.getItem('localId')) return (\r\n      <NoAuth \r\n        link={'/'} \r\n        textContent={'Вы не авторизовались!'}\r\n        textLink={'Войти!'}\r\n      />\r\n    )\r\n   return (\r\n      <div className={cls.container}>\r\n         <Header />\r\n            <div className={cls.formBox}>\r\n               <div className={cls.box}>\r\n                  <h1 className={cls.title}>Авторизоваться</h1>\r\n                     <form className={cls.root} onSubmit={handleSubmit(onSubmit)}>\r\n                        <TextArea\r\n                           className={cls.input}\r\n                           label=\"email\" \r\n                           placeholder='email'\r\n                           type={\"email\"}\r\n                           error={formState.errors.email}\r\n                           {...register('email', Form.Options.email)}\r\n                        />\r\n                        <TextArea\r\n                           className={cls.input}\r\n                           label=\"password\" \r\n                           placeholder=\"password\" \r\n                           type={'password'}\r\n                           error={formState.errors.password}\r\n                           {...register('password', Form.Options.password)}\r\n                        />\r\n                        <Button type={'submit'} text={'Войти'} />\r\n\r\n                           {\r\n                              isSuccessAuth && (\r\n                                 <h3 className={cls.noAuth}>Вы ввели неверный пароль или почту</h3>\r\n                              )\r\n                           }\r\n\r\n                     </form>\r\n                  <p>\r\n                     Нет аккаунта? <NavLink to={'/signup'}>Зарегистрироваться</NavLink>\r\n                  </p>\r\n               </div>\r\n            </div>\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default Signin"],"mappings":"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"},"metadata":{},"sourceType":"module"}