{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Main } from '..';\n\nconst useMain = () => {\n  _s();\n\n  const [todos, setTodos] = React.useState();\n  const get = React.useCallback(() => {\n    const request = Main.API.get();\n    request.then(res => {\n      const data = Object.entries(res.data).map(_ref => {\n        let [id, item] = _ref;\n        return {\n          id,\n          ...item\n        };\n      });\n      setTodos(data.reverse());\n    });\n  }, []);\n  const postNewTodo = React.useCallback(data => {\n    const request = Main.API.post(data);\n    request.then(get);\n  }, [get]);\n  const deleteTodo = React.useCallback(id => {\n    const request = Main.API.remove(id);\n    request.then(get);\n  }, []);\n  const completedItemTodo = React.useCallback(id => {\n    const request = Main.API.post(id);\n    request.then(get);\n  }, []);\n  React.useEffect(get, [get]);\n  return {\n    todos,\n    actions: {\n      postNewTodo,\n      deleteTodo,\n      completedItemTodo\n    }\n  };\n};\n\n_s(useMain, \"wUSpsOgwRY0e6pYRx8hllYjTecs=\");\n\nexport default useMain;","map":{"version":3,"names":["React","Main","useMain","todos","setTodos","useState","get","useCallback","request","API","then","res","data","Object","entries","map","id","item","reverse","postNewTodo","post","deleteTodo","remove","completedItemTodo","useEffect","actions"],"sources":["D:/My React Projects/React lesson/todo_app/src/pages/Main/hooks/index.js"],"sourcesContent":["import React from 'react'\r\nimport { Main } from '..'\r\n\r\nconst useMain = ( ) => {\r\n  const [todos, setTodos] = React.useState()\r\n\r\n\r\n  const get = React.useCallback(() => {\r\n    const request = Main.API.get()\r\n\r\n    request\r\n      .then(res => {\r\n        const data = Object.entries(res.data).map(([id, item]) => {\r\n          return {\r\n            id,\r\n            ...item\r\n          }\r\n        })\r\n\r\n        setTodos(data.reverse())\r\n      })\r\n  }, [])\r\n\r\n  const postNewTodo = React.useCallback((data) => {\r\n    const request = Main.API.post(data)\r\n\r\n    request\r\n      .then(get)\r\n  }, [get])\r\n\r\n  const deleteTodo = React.useCallback((id) => {\r\n    const request = Main.API.remove(id)\r\n\r\n    request\r\n      .then(get)\r\n  }, [])\r\n\r\n  const completedItemTodo = React.useCallback((id) => {\r\n    const request = Main.API.post(id)\r\n\r\n    request\r\n      .then(get)\r\n  }, [])\r\n\r\n  React.useEffect(get, [get])\r\n\r\n  return {\r\n    todos,\r\n    actions: {\r\n      postNewTodo,\r\n      deleteTodo,\r\n      completedItemTodo,\r\n    },\r\n  }\r\n\r\n}\r\n\r\nexport default useMain"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,IAArB;;AAEA,MAAMC,OAAO,GAAG,MAAO;EAAA;;EACrB,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBJ,KAAK,CAACK,QAAN,EAA1B;EAGA,MAAMC,GAAG,GAAGN,KAAK,CAACO,WAAN,CAAkB,MAAM;IAClC,MAAMC,OAAO,GAAGP,IAAI,CAACQ,GAAL,CAASH,GAAT,EAAhB;IAEAE,OAAO,CACJE,IADH,CACQC,GAAG,IAAI;MACX,MAAMC,IAAI,GAAGC,MAAM,CAACC,OAAP,CAAeH,GAAG,CAACC,IAAnB,EAAyBG,GAAzB,CAA6B,QAAgB;QAAA,IAAf,CAACC,EAAD,EAAKC,IAAL,CAAe;QACxD,OAAO;UACLD,EADK;UAEL,GAAGC;QAFE,CAAP;MAID,CALY,CAAb;MAOAb,QAAQ,CAACQ,IAAI,CAACM,OAAL,EAAD,CAAR;IACD,CAVH;EAWD,CAdW,EAcT,EAdS,CAAZ;EAgBA,MAAMC,WAAW,GAAGnB,KAAK,CAACO,WAAN,CAAmBK,IAAD,IAAU;IAC9C,MAAMJ,OAAO,GAAGP,IAAI,CAACQ,GAAL,CAASW,IAAT,CAAcR,IAAd,CAAhB;IAEAJ,OAAO,CACJE,IADH,CACQJ,GADR;EAED,CALmB,EAKjB,CAACA,GAAD,CALiB,CAApB;EAOA,MAAMe,UAAU,GAAGrB,KAAK,CAACO,WAAN,CAAmBS,EAAD,IAAQ;IAC3C,MAAMR,OAAO,GAAGP,IAAI,CAACQ,GAAL,CAASa,MAAT,CAAgBN,EAAhB,CAAhB;IAEAR,OAAO,CACJE,IADH,CACQJ,GADR;EAED,CALkB,EAKhB,EALgB,CAAnB;EAOA,MAAMiB,iBAAiB,GAAGvB,KAAK,CAACO,WAAN,CAAmBS,EAAD,IAAQ;IAClD,MAAMR,OAAO,GAAGP,IAAI,CAACQ,GAAL,CAASW,IAAT,CAAcJ,EAAd,CAAhB;IAEAR,OAAO,CACJE,IADH,CACQJ,GADR;EAED,CALyB,EAKvB,EALuB,CAA1B;EAOAN,KAAK,CAACwB,SAAN,CAAgBlB,GAAhB,EAAqB,CAACA,GAAD,CAArB;EAEA,OAAO;IACLH,KADK;IAELsB,OAAO,EAAE;MACPN,WADO;MAEPE,UAFO;MAGPE;IAHO;EAFJ,CAAP;AASD,CApDD;;GAAMrB,O;;AAsDN,eAAeA,OAAf"},"metadata":{},"sourceType":"module"}